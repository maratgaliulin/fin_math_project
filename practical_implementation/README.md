[В начало](../README.md)

# Практическая реализация

Используемые термины и аббревиатуры

|Аббревиатура | Определение|
|:--:|---|
|ВП | валютная пара|
|КЗ | киллзона|
|РЗЛ | размер зоны ликвидности|
|МНК | метод наименьших квадратов|

## Программная часть проекта

![Просмотр реализации в ноутбуке: 01.start.ipynb](model/01.start.ipynb)

## Описание реализации программной части

> **Операции проводятся для каждой ВП и для каждой ВП - каждая КЗ.**

### 1.Подготовка исходных данных

- Очистка данных от пустых значений (NaN) в случае их наличия
- Работа с КЗ(время Московское, UTC+3):
	

	| Биржа | Время работы, UTC+3(мск) |
	|:--:|---|	
	| Токио | 3:00-7:00 |
	| Лондон | 09:00-12:00 |
	| Нью-Йорк | 14:00-18:00 |

- Заводим переменную ЗЛ

	**Сценарий 1**: 
	> наименее предпочтительный
	- ЗЛ реализуем в виде минимума и максимума предыдущего дня (не будет данных по размеру ЗЛ и, следовательно лишаемся одной из двух независимых переменных - модель не строится).

	**Сценарий 2**: 
	> приемлемый	
	- Объем свечки прямо пропорционален его высоте, и высоту свечки примем за объем. Тогда линии ликвидности будут приниматься, как верхняя и нижняя границы аномальных свеч по высоте в пределах прошедших суток.

	**Сценарий 3**: 
	> наиболее предпочтительный.
	- Поделить цены актива на равные диапазоны цен (например на 1час) и просуммировать вертикальный объем по свечкам, входящим  в этот диапазон. Тогда линии ликвидности будут соответствовать максимальным объемам.

- Заводим переменную RSI по формуле:

$$RSI = 100 - \frac{100}{1\ +\ RS}$$

$RS = \frac{Среднее\  повышения\  цены\  закрытия\  за\  период}{Среднее\  понижения\  цены\ закрытия\  за\  период}$, где
$период$ = 14 (по умолчанию) или выбранное пользователем


- Отрисовка свеч (15мин) с примером обозначения ЗЛ и RSI с подсвеченными КЛ.

### 2.Статистика переменных
- Возвращаем % «успеха»: цена актива в текущей КЗ достигла минимума/максимума предыдущего дня (вариант 1) ИЛИ верхней/нижней границы ЗЛ (вариант 2) в пределах прошедших суток. 

$$Процент\ успеха = \frac{количество\ успешных\ сделок (n)}{количество\ КЗ\ за\ период\  исторических\ данных}$$

> количество КЗ за период исторических данных = 741
>
> Расчет: количество КЗ за сутки (3) * количество рабочих дней в 2023 году (247) = 741

- Возвращаем значение RSI в момент касания текущей ценой актива минимума/максимума для каждого «успеха» и для «неуспеха». По итогу всех случаев поймем, для какого % «успеха» значение RSI было меньше 30 или больше 70.

### 3.Графический анализ
- График зависимости РЗЛ от волатильности цен актива (?)

### 4.Корреляционный анализ
- Проверяем степень мультиколлинеарности – созависимость переменных РЗЛ и RSI;
- Выясняем коэффициент корреляции между РЗЛ и % «успеха»; 
- Выясняем коэффициент корреляции между RSI и % «успеха».

### 5.Построение модели 
- Расчет коэффициентов методом МНК.
- Проверка модели.


